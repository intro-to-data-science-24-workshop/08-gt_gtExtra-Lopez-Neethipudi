% Options for packages loaded elsewhere
\PassOptionsToPackage{unicode}{hyperref}
\PassOptionsToPackage{hyphens}{url}
%
\documentclass[
]{article}
\usepackage{amsmath,amssymb}
\usepackage{iftex}
\ifPDFTeX
  \usepackage[T1]{fontenc}
  \usepackage[utf8]{inputenc}
  \usepackage{textcomp} % provide euro and other symbols
\else % if luatex or xetex
  \usepackage{unicode-math} % this also loads fontspec
  \defaultfontfeatures{Scale=MatchLowercase}
  \defaultfontfeatures[\rmfamily]{Ligatures=TeX,Scale=1}
\fi
\usepackage{lmodern}
\ifPDFTeX\else
  % xetex/luatex font selection
\fi
% Use upquote if available, for straight quotes in verbatim environments
\IfFileExists{upquote.sty}{\usepackage{upquote}}{}
\IfFileExists{microtype.sty}{% use microtype if available
  \usepackage[]{microtype}
  \UseMicrotypeSet[protrusion]{basicmath} % disable protrusion for tt fonts
}{}
\makeatletter
\@ifundefined{KOMAClassName}{% if non-KOMA class
  \IfFileExists{parskip.sty}{%
    \usepackage{parskip}
  }{% else
    \setlength{\parindent}{0pt}
    \setlength{\parskip}{6pt plus 2pt minus 1pt}}
}{% if KOMA class
  \KOMAoptions{parskip=half}}
\makeatother
\usepackage{xcolor}
\usepackage[margin=1in]{geometry}
\usepackage{color}
\usepackage{fancyvrb}
\newcommand{\VerbBar}{|}
\newcommand{\VERB}{\Verb[commandchars=\\\{\}]}
\DefineVerbatimEnvironment{Highlighting}{Verbatim}{commandchars=\\\{\}}
% Add ',fontsize=\small' for more characters per line
\usepackage{framed}
\definecolor{shadecolor}{RGB}{248,248,248}
\newenvironment{Shaded}{\begin{snugshade}}{\end{snugshade}}
\newcommand{\AlertTok}[1]{\textcolor[rgb]{0.94,0.16,0.16}{#1}}
\newcommand{\AnnotationTok}[1]{\textcolor[rgb]{0.56,0.35,0.01}{\textbf{\textit{#1}}}}
\newcommand{\AttributeTok}[1]{\textcolor[rgb]{0.13,0.29,0.53}{#1}}
\newcommand{\BaseNTok}[1]{\textcolor[rgb]{0.00,0.00,0.81}{#1}}
\newcommand{\BuiltInTok}[1]{#1}
\newcommand{\CharTok}[1]{\textcolor[rgb]{0.31,0.60,0.02}{#1}}
\newcommand{\CommentTok}[1]{\textcolor[rgb]{0.56,0.35,0.01}{\textit{#1}}}
\newcommand{\CommentVarTok}[1]{\textcolor[rgb]{0.56,0.35,0.01}{\textbf{\textit{#1}}}}
\newcommand{\ConstantTok}[1]{\textcolor[rgb]{0.56,0.35,0.01}{#1}}
\newcommand{\ControlFlowTok}[1]{\textcolor[rgb]{0.13,0.29,0.53}{\textbf{#1}}}
\newcommand{\DataTypeTok}[1]{\textcolor[rgb]{0.13,0.29,0.53}{#1}}
\newcommand{\DecValTok}[1]{\textcolor[rgb]{0.00,0.00,0.81}{#1}}
\newcommand{\DocumentationTok}[1]{\textcolor[rgb]{0.56,0.35,0.01}{\textbf{\textit{#1}}}}
\newcommand{\ErrorTok}[1]{\textcolor[rgb]{0.64,0.00,0.00}{\textbf{#1}}}
\newcommand{\ExtensionTok}[1]{#1}
\newcommand{\FloatTok}[1]{\textcolor[rgb]{0.00,0.00,0.81}{#1}}
\newcommand{\FunctionTok}[1]{\textcolor[rgb]{0.13,0.29,0.53}{\textbf{#1}}}
\newcommand{\ImportTok}[1]{#1}
\newcommand{\InformationTok}[1]{\textcolor[rgb]{0.56,0.35,0.01}{\textbf{\textit{#1}}}}
\newcommand{\KeywordTok}[1]{\textcolor[rgb]{0.13,0.29,0.53}{\textbf{#1}}}
\newcommand{\NormalTok}[1]{#1}
\newcommand{\OperatorTok}[1]{\textcolor[rgb]{0.81,0.36,0.00}{\textbf{#1}}}
\newcommand{\OtherTok}[1]{\textcolor[rgb]{0.56,0.35,0.01}{#1}}
\newcommand{\PreprocessorTok}[1]{\textcolor[rgb]{0.56,0.35,0.01}{\textit{#1}}}
\newcommand{\RegionMarkerTok}[1]{#1}
\newcommand{\SpecialCharTok}[1]{\textcolor[rgb]{0.81,0.36,0.00}{\textbf{#1}}}
\newcommand{\SpecialStringTok}[1]{\textcolor[rgb]{0.31,0.60,0.02}{#1}}
\newcommand{\StringTok}[1]{\textcolor[rgb]{0.31,0.60,0.02}{#1}}
\newcommand{\VariableTok}[1]{\textcolor[rgb]{0.00,0.00,0.00}{#1}}
\newcommand{\VerbatimStringTok}[1]{\textcolor[rgb]{0.31,0.60,0.02}{#1}}
\newcommand{\WarningTok}[1]{\textcolor[rgb]{0.56,0.35,0.01}{\textbf{\textit{#1}}}}
\usepackage{graphicx}
\makeatletter
\def\maxwidth{\ifdim\Gin@nat@width>\linewidth\linewidth\else\Gin@nat@width\fi}
\def\maxheight{\ifdim\Gin@nat@height>\textheight\textheight\else\Gin@nat@height\fi}
\makeatother
% Scale images if necessary, so that they will not overflow the page
% margins by default, and it is still possible to overwrite the defaults
% using explicit options in \includegraphics[width, height, ...]{}
\setkeys{Gin}{width=\maxwidth,height=\maxheight,keepaspectratio}
% Set default figure placement to htbp
\makeatletter
\def\fps@figure{htbp}
\makeatother
\setlength{\emergencystretch}{3em} % prevent overfull lines
\providecommand{\tightlist}{%
  \setlength{\itemsep}{0pt}\setlength{\parskip}{0pt}}
\setcounter{secnumdepth}{-\maxdimen} % remove section numbering
\usepackage{booktabs}
\usepackage{caption}
\usepackage{longtable}
\usepackage{colortbl}
\usepackage{array}
\usepackage{anyfontsize}
\usepackage{multirow}
\ifLuaTeX
  \usepackage{selnolig}  % disable illegal ligatures
\fi
\usepackage{bookmark}
\IfFileExists{xurl.sty}{\usepackage{xurl}}{} % add URL line breaks if available
\urlstyle{same}
\hypersetup{
  pdftitle={Creating presentation - ready tables with gt and gtExtras},
  pdfauthor={Elena Mijares Lopez and Ujwal Neethipudi},
  hidelinks,
  pdfcreator={LaTeX via pandoc}}

\title{Creating presentation - ready tables with gt and gtExtras}
\author{Elena Mijares Lopez and Ujwal Neethipudi}
\date{2024-10-23}

\begin{document}
\maketitle

{
\setcounter{tocdepth}{2}
\tableofcontents
}
\subsection{Introduction}\label{introduction}

In this workshop, we will explore how to create tables using the gt and
gtExtras packages, utilizing the pizza place dataset. We will start with
a basic table using base R to display pizza information, then enhance
our visualization using the gt package to create a more polished and
user-friendly table. Finally, we will upgrade our visualization further
with the gtExtras package, adding even more features and styles to
improve the overall presentation of our pizza menu.

\subsection{The Data}\label{the-data}

Let's look at our pizza sales dataset:

\begin{Shaded}
\begin{Highlighting}[]
\CommentTok{\# Load and assign the pizza dataset to an object}
\FunctionTok{data}\NormalTok{(}\StringTok{"pizzaplace"}\NormalTok{)}
\NormalTok{pizza\_data }\OtherTok{\textless{}{-}}\NormalTok{ pizzaplace}
\FunctionTok{head}\NormalTok{(pizza\_data)}
\end{Highlighting}
\end{Shaded}

\begin{verbatim}
## # A tibble: 6 x 7
##   id          date       time     name        size  type    price
##   <chr>       <chr>      <chr>    <chr>       <chr> <chr>   <dbl>
## 1 2015-000001 2015-01-01 11:38:36 hawaiian    M     classic  13.2
## 2 2015-000002 2015-01-01 11:57:40 classic_dlx M     classic  16  
## 3 2015-000002 2015-01-01 11:57:40 mexicana    M     veggie   16  
## 4 2015-000002 2015-01-01 11:57:40 thai_ckn    L     chicken  20.8
## 5 2015-000002 2015-01-01 11:57:40 five_cheese L     veggie   18.5
## 6 2015-000002 2015-01-01 11:57:40 ital_supr   L     supreme  20.8
\end{verbatim}

\subsection{Basic Table (Before gt)}\label{basic-table-before-gt}

First, let's create a summary table using basic R:

\begin{Shaded}
\begin{Highlighting}[]
\NormalTok{pizza\_summary }\OtherTok{\textless{}{-}}\NormalTok{ pizza\_data }\SpecialCharTok{\%\textgreater{}\%}
  \FunctionTok{group\_by}\NormalTok{(type, size) }\SpecialCharTok{\%\textgreater{}\%}
  \FunctionTok{summarize}\NormalTok{(}
    \AttributeTok{total\_sales =} \FunctionTok{sum}\NormalTok{(price),}
    \AttributeTok{num\_orders =} \FunctionTok{n}\NormalTok{(),}
    \AttributeTok{avg\_price =} \FunctionTok{mean}\NormalTok{(price),}
    \AttributeTok{.groups =} \StringTok{\textquotesingle{}drop\textquotesingle{}}
\NormalTok{  )}

\CommentTok{\# Display as basic table}
\FunctionTok{print}\NormalTok{(pizza\_summary)}
\end{Highlighting}
\end{Shaded}

\begin{verbatim}
## # A tibble: 14 x 5
##    type    size  total_sales num_orders avg_price
##    <chr>   <chr>       <dbl>      <int>     <dbl>
##  1 chicken L         102339        4932      20.8
##  2 chicken M          65224.       3894      16.8
##  3 chicken S          28356        2224      12.8
##  4 classic L          74518.       4057      18.4
##  5 classic M          60582.       4112      14.7
##  6 classic S          69870.       6139      11.4
##  7 classic XL         14076         552      25.5
##  8 classic XXL         1007.         28      36.0
##  9 supreme L          94258.       4564      20.7
## 10 supreme M          66475        4046      16.4
## 11 supreme S          47464.       3377      14.1
## 12 veggie  L         104203.       5403      19.3
## 13 veggie  M          57101        3583      15.9
## 14 veggie  S          32387.       2663      12.2
\end{verbatim}

\subsection{Basic gt Features}\label{basic-gt-features}

\subsubsection{Step 1: Basic gt Table}\label{step-1-basic-gt-table}

Let's start with a simple gt table:

\begin{Shaded}
\begin{Highlighting}[]
\NormalTok{pizza\_summary }\SpecialCharTok{\%\textgreater{}\%}
  \FunctionTok{gt}\NormalTok{(}
    \AttributeTok{groupname\_col =} \StringTok{"type"}
\NormalTok{  )}
\end{Highlighting}
\end{Shaded}

\begin{table}[!t]
\fontsize{12.0pt}{14.4pt}\selectfont
\begin{tabular*}{\linewidth}{@{\extracolsep{\fill}}lrrr}
\toprule
size & total\_sales & num\_orders & avg\_price \\ 
\midrule\addlinespace[2.5pt]
\multicolumn{4}{l}{chicken} \\[2.5pt] 
\midrule\addlinespace[2.5pt]
L & 102339.00 & 4932 & 20.75000 \\ 
M & 65224.50 & 3894 & 16.75000 \\ 
S & 28356.00 & 2224 & 12.75000 \\ 
\midrule\addlinespace[2.5pt]
\multicolumn{4}{l}{classic} \\[2.5pt] 
\midrule\addlinespace[2.5pt]
L & 74518.50 & 4057 & 18.36788 \\ 
M & 60581.75 & 4112 & 14.73292 \\ 
S & 69870.25 & 6139 & 11.38137 \\ 
XL & 14076.00 & 552 & 25.50000 \\ 
XXL & 1006.60 & 28 & 35.95000 \\ 
\midrule\addlinespace[2.5pt]
\multicolumn{4}{l}{supreme} \\[2.5pt] 
\midrule\addlinespace[2.5pt]
L & 94258.50 & 4564 & 20.65261 \\ 
M & 66475.00 & 4046 & 16.42981 \\ 
S & 47463.50 & 3377 & 14.05493 \\ 
\midrule\addlinespace[2.5pt]
\multicolumn{4}{l}{veggie} \\[2.5pt] 
\midrule\addlinespace[2.5pt]
L & 104202.70 & 5403 & 19.28608 \\ 
M & 57101.00 & 3583 & 15.93665 \\ 
S & 32386.75 & 2663 & 12.16175 \\ 
\bottomrule
\end{tabular*}
\end{table}

\subsubsection{Step 2: Adding
Formatting}\label{step-2-adding-formatting}

Now let's add currency and number formatting:

\begin{Shaded}
\begin{Highlighting}[]
\NormalTok{pizza\_summary }\SpecialCharTok{\%\textgreater{}\%}
  \FunctionTok{gt}\NormalTok{(}
    \AttributeTok{groupname\_col =} \StringTok{"type"}
\NormalTok{  ) }\SpecialCharTok{\%\textgreater{}\%}
  \FunctionTok{fmt\_currency}\NormalTok{(}
    \AttributeTok{columns =} \FunctionTok{c}\NormalTok{(total\_sales, avg\_price),}
    \AttributeTok{currency =} \StringTok{"USD"}
\NormalTok{  ) }\SpecialCharTok{\%\textgreater{}\%}
  \FunctionTok{fmt\_number}\NormalTok{(}
    \AttributeTok{columns =}\NormalTok{ num\_orders,}
    \AttributeTok{decimals =} \DecValTok{0}
\NormalTok{  )}
\end{Highlighting}
\end{Shaded}

\begin{table}[!t]
\fontsize{12.0pt}{14.4pt}\selectfont
\begin{tabular*}{\linewidth}{@{\extracolsep{\fill}}lrrr}
\toprule
size & total\_sales & num\_orders & avg\_price \\ 
\midrule\addlinespace[2.5pt]
\multicolumn{4}{l}{chicken} \\[2.5pt] 
\midrule\addlinespace[2.5pt]
L & \$102,339.00 & 4,932 & \$20.75 \\ 
M & \$65,224.50 & 3,894 & \$16.75 \\ 
S & \$28,356.00 & 2,224 & \$12.75 \\ 
\midrule\addlinespace[2.5pt]
\multicolumn{4}{l}{classic} \\[2.5pt] 
\midrule\addlinespace[2.5pt]
L & \$74,518.50 & 4,057 & \$18.37 \\ 
M & \$60,581.75 & 4,112 & \$14.73 \\ 
S & \$69,870.25 & 6,139 & \$11.38 \\ 
XL & \$14,076.00 & 552 & \$25.50 \\ 
XXL & \$1,006.60 & 28 & \$35.95 \\ 
\midrule\addlinespace[2.5pt]
\multicolumn{4}{l}{supreme} \\[2.5pt] 
\midrule\addlinespace[2.5pt]
L & \$94,258.50 & 4,564 & \$20.65 \\ 
M & \$66,475.00 & 4,046 & \$16.43 \\ 
S & \$47,463.50 & 3,377 & \$14.05 \\ 
\midrule\addlinespace[2.5pt]
\multicolumn{4}{l}{veggie} \\[2.5pt] 
\midrule\addlinespace[2.5pt]
L & \$104,202.70 & 5,403 & \$19.29 \\ 
M & \$57,101.00 & 3,583 & \$15.94 \\ 
S & \$32,386.75 & 2,663 & \$12.16 \\ 
\bottomrule
\end{tabular*}
\end{table}

\subsubsection{Step 3: Adding Headers and
Labels}\label{step-3-adding-headers-and-labels}

Let's improve the presentation with better headers:

\begin{Shaded}
\begin{Highlighting}[]
\NormalTok{pizza\_summary }\SpecialCharTok{\%\textgreater{}\%}
  \FunctionTok{gt}\NormalTok{(}
    \AttributeTok{groupname\_col =} \StringTok{"type"}
\NormalTok{  ) }\SpecialCharTok{\%\textgreater{}\%}
  \FunctionTok{fmt\_currency}\NormalTok{(}
    \AttributeTok{columns =} \FunctionTok{c}\NormalTok{(total\_sales, avg\_price),}
    \AttributeTok{currency =} \StringTok{"USD"}
\NormalTok{  ) }\SpecialCharTok{\%\textgreater{}\%}
  \FunctionTok{fmt\_number}\NormalTok{(}
    \AttributeTok{columns =}\NormalTok{ num\_orders,}
    \AttributeTok{decimals =} \DecValTok{0}
\NormalTok{  ) }\SpecialCharTok{\%\textgreater{}\%}
  \FunctionTok{tab\_header}\NormalTok{(}
    \AttributeTok{title =} \StringTok{"Pizza Sales Analysis"}\NormalTok{,}
    \AttributeTok{subtitle =} \StringTok{"Sales breakdown by type and size"}
\NormalTok{  ) }\SpecialCharTok{\%\textgreater{}\%}
  \FunctionTok{cols\_label}\NormalTok{(}
    \AttributeTok{total\_sales =} \StringTok{"Total Sales"}\NormalTok{,}
    \AttributeTok{num\_orders =} \StringTok{"Number of Orders"}\NormalTok{,}
    \AttributeTok{avg\_price =} \StringTok{"Average Price"}\NormalTok{,}
    \AttributeTok{size =} \StringTok{"Pizza Size"}
\NormalTok{  )}
\end{Highlighting}
\end{Shaded}

\begin{table}[!t]
\caption*{
{\large Pizza Sales Analysis} \\ 
{\small Sales breakdown by type and size}
} 
\fontsize{12.0pt}{14.4pt}\selectfont
\begin{tabular*}{\linewidth}{@{\extracolsep{\fill}}lrrr}
\toprule
Pizza Size & Total Sales & Number of Orders & Average Price \\ 
\midrule\addlinespace[2.5pt]
\multicolumn{4}{l}{chicken} \\[2.5pt] 
\midrule\addlinespace[2.5pt]
L & \$102,339.00 & 4,932 & \$20.75 \\ 
M & \$65,224.50 & 3,894 & \$16.75 \\ 
S & \$28,356.00 & 2,224 & \$12.75 \\ 
\midrule\addlinespace[2.5pt]
\multicolumn{4}{l}{classic} \\[2.5pt] 
\midrule\addlinespace[2.5pt]
L & \$74,518.50 & 4,057 & \$18.37 \\ 
M & \$60,581.75 & 4,112 & \$14.73 \\ 
S & \$69,870.25 & 6,139 & \$11.38 \\ 
XL & \$14,076.00 & 552 & \$25.50 \\ 
XXL & \$1,006.60 & 28 & \$35.95 \\ 
\midrule\addlinespace[2.5pt]
\multicolumn{4}{l}{supreme} \\[2.5pt] 
\midrule\addlinespace[2.5pt]
L & \$94,258.50 & 4,564 & \$20.65 \\ 
M & \$66,475.00 & 4,046 & \$16.43 \\ 
S & \$47,463.50 & 3,377 & \$14.05 \\ 
\midrule\addlinespace[2.5pt]
\multicolumn{4}{l}{veggie} \\[2.5pt] 
\midrule\addlinespace[2.5pt]
L & \$104,202.70 & 5,403 & \$19.29 \\ 
M & \$57,101.00 & 3,583 & \$15.94 \\ 
S & \$32,386.75 & 2,663 & \$12.16 \\ 
\bottomrule
\end{tabular*}
\end{table}

\subsubsection{Step 4: Adding Visual Elements with
gtExtras}\label{step-4-adding-visual-elements-with-gtextras}

Now let's add some visual enhancements:

\begin{Shaded}
\begin{Highlighting}[]
\NormalTok{pizza\_summary }\SpecialCharTok{\%\textgreater{}\%}
  \FunctionTok{gt}\NormalTok{(}
    \AttributeTok{groupname\_col =} \StringTok{"type"}
\NormalTok{  ) }\SpecialCharTok{\%\textgreater{}\%}
  \FunctionTok{fmt\_currency}\NormalTok{(}
    \AttributeTok{columns =} \FunctionTok{c}\NormalTok{(total\_sales, avg\_price),}
    \AttributeTok{currency =} \StringTok{"USD"}
\NormalTok{  ) }\SpecialCharTok{\%\textgreater{}\%}
  \FunctionTok{fmt\_number}\NormalTok{(}
    \AttributeTok{columns =}\NormalTok{ num\_orders,}
    \AttributeTok{decimals =} \DecValTok{0}
\NormalTok{  ) }\SpecialCharTok{\%\textgreater{}\%}
  \FunctionTok{tab\_header}\NormalTok{(}
    \AttributeTok{title =} \StringTok{"Pizza Sales Analysis"}\NormalTok{,}
    \AttributeTok{subtitle =} \StringTok{"Sales breakdown by type and size"}
\NormalTok{  ) }\SpecialCharTok{\%\textgreater{}\%}
  \FunctionTok{cols\_label}\NormalTok{(}
    \AttributeTok{total\_sales =} \StringTok{"Total Sales"}\NormalTok{,}
    \AttributeTok{num\_orders =} \StringTok{"Number of Orders"}\NormalTok{,}
    \AttributeTok{avg\_price =} \StringTok{"Average Price"}\NormalTok{,}
    \AttributeTok{size =} \StringTok{"Pizza Size"}
\NormalTok{  ) }\SpecialCharTok{\%\textgreater{}\%}
  \FunctionTok{gt\_theme\_538}\NormalTok{() }\SpecialCharTok{\%\textgreater{}\%}
  \FunctionTok{data\_color}\NormalTok{(}
    \AttributeTok{columns =} \FunctionTok{c}\NormalTok{(total\_sales),}
    \AttributeTok{colors =}\NormalTok{ scales}\SpecialCharTok{::}\FunctionTok{col\_numeric}\NormalTok{(}
      \AttributeTok{palette =} \FunctionTok{c}\NormalTok{(}\StringTok{"white"}\NormalTok{, }\StringTok{"\#1F77B4"}\NormalTok{),}
      \AttributeTok{domain =} \ConstantTok{NULL}
\NormalTok{    )}
\NormalTok{  )}
\end{Highlighting}
\end{Shaded}

\begin{table}[!t]
\caption*{
{\large Pizza Sales Analysis} \\ 
{\small Sales breakdown by type and size}
} 
\fontsize{12.0pt}{14.4pt}\selectfont
\begin{tabular*}{\linewidth}{@{\extracolsep{\fill}}lrrr}
\toprule
Pizza Size & Total Sales & Number of Orders & Average Price \\ 
\midrule\addlinespace[2.5pt]
\multicolumn{4}{l}{{chicken}} \\[2.5pt] 
\midrule\addlinespace[2.5pt]
L & {\cellcolor[HTML]{2879B5}{\textcolor[HTML]{FFFFFF}{\$102,339.00}}} & 4,932 & \$20.75 \\ 
M & {\cellcolor[HTML]{85A8D0}{\textcolor[HTML]{000000}{\$65,224.50}}} & 3,894 & \$16.75 \\ 
S & {\cellcolor[HTML]{CCD9EB}{\textcolor[HTML]{000000}{\$28,356.00}}} & 2,224 & \$12.75 \\ 
\midrule\addlinespace[2.5pt]
\multicolumn{4}{l}{{classic}} \\[2.5pt] 
\midrule\addlinespace[2.5pt]
L & {\cellcolor[HTML]{729CCA}{\textcolor[HTML]{FFFFFF}{\$74,518.50}}} & 4,057 & \$18.37 \\ 
M & {\cellcolor[HTML]{8EAED4}{\textcolor[HTML]{000000}{\$60,581.75}}} & 4,112 & \$14.73 \\ 
S & {\cellcolor[HTML]{7BA2CD}{\textcolor[HTML]{FFFFFF}{\$69,870.25}}} & 6,139 & \$11.38 \\ 
XL & {\cellcolor[HTML]{E7EDF6}{\textcolor[HTML]{000000}{\$14,076.00}}} & 552 & \$25.50 \\ 
XXL & {\cellcolor[HTML]{FFFFFF}{\textcolor[HTML]{000000}{\$1,006.60}}} & 28 & \$35.95 \\ 
\midrule\addlinespace[2.5pt]
\multicolumn{4}{l}{{supreme}} \\[2.5pt] 
\midrule\addlinespace[2.5pt]
L & {\cellcolor[HTML]{4383BB}{\textcolor[HTML]{FFFFFF}{\$94,258.50}}} & 4,564 & \$20.65 \\ 
M & {\cellcolor[HTML]{82A6CF}{\textcolor[HTML]{FFFFFF}{\$66,475.00}}} & 4,046 & \$16.43 \\ 
S & {\cellcolor[HTML]{A8BFDD}{\textcolor[HTML]{000000}{\$47,463.50}}} & 3,377 & \$14.05 \\ 
\midrule\addlinespace[2.5pt]
\multicolumn{4}{l}{{veggie}} \\[2.5pt] 
\midrule\addlinespace[2.5pt]
L & {\cellcolor[HTML]{1F77B4}{\textcolor[HTML]{FFFFFF}{\$104,202.70}}} & 5,403 & \$19.29 \\ 
M & {\cellcolor[HTML]{95B2D6}{\textcolor[HTML]{000000}{\$57,101.00}}} & 3,583 & \$15.94 \\ 
S & {\cellcolor[HTML]{C4D3E8}{\textcolor[HTML]{000000}{\$32,386.75}}} & 2,663 & \$12.16 \\ 
\bottomrule
\end{tabular*}
\end{table}

\subsection{Advanced Features}\label{advanced-features}

\subsubsection{Sales Trends
Visualization}\label{sales-trends-visualization}

Let's create a different view focusing on pizza types:

\begin{Shaded}
\begin{Highlighting}[]
\NormalTok{pizza\_data }\SpecialCharTok{\%\textgreater{}\%}
  \FunctionTok{group\_by}\NormalTok{(type) }\SpecialCharTok{\%\textgreater{}\%}
  \FunctionTok{summarize}\NormalTok{(}
    \AttributeTok{total\_sales =} \FunctionTok{sum}\NormalTok{(price),}
    \AttributeTok{num\_orders =} \FunctionTok{n}\NormalTok{(),}
    \AttributeTok{avg\_price =} \FunctionTok{mean}\NormalTok{(price),}
    \AttributeTok{pct\_total =}\NormalTok{ num\_orders}\SpecialCharTok{/}\FunctionTok{nrow}\NormalTok{(pizza\_data)}
\NormalTok{  ) }\SpecialCharTok{\%\textgreater{}\%}
  \FunctionTok{ungroup}\NormalTok{() }\SpecialCharTok{\%\textgreater{}\%}
  \FunctionTok{gt}\NormalTok{() }\SpecialCharTok{\%\textgreater{}\%}
  \FunctionTok{fmt\_currency}\NormalTok{(}
    \AttributeTok{columns =} \FunctionTok{c}\NormalTok{(total\_sales, avg\_price),}
    \AttributeTok{currency =} \StringTok{"USD"}
\NormalTok{  ) }\SpecialCharTok{\%\textgreater{}\%}
  \FunctionTok{fmt\_number}\NormalTok{(}
    \AttributeTok{columns =}\NormalTok{ num\_orders,}
    \AttributeTok{decimals =} \DecValTok{0}
\NormalTok{  ) }\SpecialCharTok{\%\textgreater{}\%}
  \FunctionTok{fmt\_percent}\NormalTok{(}
    \AttributeTok{columns =}\NormalTok{ pct\_total,}
    \AttributeTok{decimals =} \DecValTok{1}
\NormalTok{  ) }\SpecialCharTok{\%\textgreater{}\%}
  \FunctionTok{data\_color}\NormalTok{(}
    \AttributeTok{columns =}\NormalTok{ pct\_total,}
    \AttributeTok{colors =}\NormalTok{ scales}\SpecialCharTok{::}\FunctionTok{col\_numeric}\NormalTok{(}
      \AttributeTok{palette =} \FunctionTok{c}\NormalTok{(}\StringTok{"white"}\NormalTok{, }\StringTok{"steelblue"}\NormalTok{),}
      \AttributeTok{domain =} \ConstantTok{NULL}
\NormalTok{    )}
\NormalTok{  ) }\SpecialCharTok{\%\textgreater{}\%}
  \FunctionTok{cols\_label}\NormalTok{(}
    \AttributeTok{type =} \StringTok{"Pizza Type"}\NormalTok{,}
    \AttributeTok{total\_sales =} \StringTok{"Total Sales"}\NormalTok{,}
    \AttributeTok{num\_orders =} \StringTok{"Number of Orders"}\NormalTok{,}
    \AttributeTok{avg\_price =} \StringTok{"Average Price"}\NormalTok{,}
    \AttributeTok{pct\_total =} \StringTok{"\% of Total Orders"}
\NormalTok{  ) }\SpecialCharTok{\%\textgreater{}\%}
  \FunctionTok{tab\_header}\NormalTok{(}
    \AttributeTok{title =} \StringTok{"Pizza Type Analysis"}\NormalTok{,}
    \AttributeTok{subtitle =} \StringTok{"Sales and order distribution by pizza type"}
\NormalTok{  )}
\end{Highlighting}
\end{Shaded}

\begin{table}[!t]
\caption*{
{\large Pizza Type Analysis} \\ 
{\small Sales and order distribution by pizza type}
} 
\fontsize{12.0pt}{14.4pt}\selectfont
\begin{tabular*}{\linewidth}{@{\extracolsep{\fill}}lrrrr}
\toprule
Pizza Type & Total Sales & Number of Orders & Average Price & \% of Total Orders \\ 
\midrule\addlinespace[2.5pt]
chicken & \$195,919.50 & 11,050 & \$17.73 & {\cellcolor[HTML]{FFFFFF}{\textcolor[HTML]{000000}{22.3\%}}} \\ 
classic & \$220,053.10 & 14,888 & \$14.78 & {\cellcolor[HTML]{4682B4}{\textcolor[HTML]{FFFFFF}{30.0\%}}} \\ 
supreme & \$208,197.00 & 11,987 & \$17.37 & {\cellcolor[HTML]{D4DFED}{\textcolor[HTML]{000000}{24.2\%}}} \\ 
veggie & \$193,690.45 & 11,649 & \$16.63 & {\cellcolor[HTML]{E4EAF3}{\textcolor[HTML]{000000}{23.5\%}}} \\ 
\bottomrule
\end{tabular*}
\end{table}

\subsubsection{Dark Theme Example}\label{dark-theme-example}

\begin{Shaded}
\begin{Highlighting}[]
\NormalTok{pizza\_data }\SpecialCharTok{\%\textgreater{}\%}
  \FunctionTok{group\_by}\NormalTok{(type) }\SpecialCharTok{\%\textgreater{}\%}
  \FunctionTok{summarize}\NormalTok{(}
    \AttributeTok{total\_sales =} \FunctionTok{sum}\NormalTok{(price),}
    \AttributeTok{num\_orders =} \FunctionTok{n}\NormalTok{(),}
    \AttributeTok{avg\_price =} \FunctionTok{mean}\NormalTok{(price)}
\NormalTok{  ) }\SpecialCharTok{\%\textgreater{}\%}
  \FunctionTok{gt}\NormalTok{() }\SpecialCharTok{\%\textgreater{}\%}
  \FunctionTok{fmt\_currency}\NormalTok{(}
    \AttributeTok{columns =} \FunctionTok{c}\NormalTok{(total\_sales, avg\_price),}
    \AttributeTok{currency =} \StringTok{"USD"}
\NormalTok{  ) }\SpecialCharTok{\%\textgreater{}\%}
  \FunctionTok{fmt\_number}\NormalTok{(}
    \AttributeTok{columns =}\NormalTok{ num\_orders,}
    \AttributeTok{decimals =} \DecValTok{0}
\NormalTok{  ) }\SpecialCharTok{\%\textgreater{}\%}
  \FunctionTok{gt\_theme\_dark}\NormalTok{() }\SpecialCharTok{\%\textgreater{}\%}
  \FunctionTok{tab\_header}\NormalTok{(}
    \AttributeTok{title =} \StringTok{"Pizza Sales in Dark Theme"}\NormalTok{,}
    \AttributeTok{subtitle =} \StringTok{"A different perspective on our data"}
\NormalTok{  )}
\end{Highlighting}
\end{Shaded}

\begin{table}[!t]
\caption*{
{\large Pizza Sales in Dark Theme} \\ 
{\small A different perspective on our data}
} 
\fontsize{12.0pt}{14.4pt}\selectfont
\begin{tabular*}{\linewidth}{@{\extracolsep{\fill}}lrrr}
\toprule
{\TEXTCOLOR[HTML]{FFFFFF}{TYPE}} & total\_sales & num\_orders & avg\_price \\ 
\midrule\addlinespace[2.5pt]
{chicken} & {\$195,919.50} & {11,050} & {\$17.73} \\ 
{classic} & {\$220,053.10} & {14,888} & {\$14.78} \\ 
{supreme} & {\$208,197.00} & {11,987} & {\$17.37} \\ 
{veggie} & {\$193,690.45} & {11,649} & {\$16.63} \\ 
\bottomrule
\end{tabular*}
\end{table}

\subsubsection{Summary Rows Feature}\label{summary-rows-feature}

\begin{Shaded}
\begin{Highlighting}[]
\NormalTok{pizza\_data }\SpecialCharTok{\%\textgreater{}\%}
  \FunctionTok{group\_by}\NormalTok{(type) }\SpecialCharTok{\%\textgreater{}\%}
  \FunctionTok{summarize}\NormalTok{(}
    \AttributeTok{total\_sales =} \FunctionTok{sum}\NormalTok{(price),}
    \AttributeTok{num\_orders =} \FunctionTok{n}\NormalTok{(),}
    \AttributeTok{avg\_price =} \FunctionTok{mean}\NormalTok{(price)}
\NormalTok{  ) }\SpecialCharTok{\%\textgreater{}\%}
  \FunctionTok{ungroup}\NormalTok{() }\SpecialCharTok{\%\textgreater{}\%}
  \FunctionTok{gt}\NormalTok{(}
    \AttributeTok{groupname\_col =} \StringTok{"type"}
\NormalTok{  ) }\SpecialCharTok{\%\textgreater{}\%}
  \FunctionTok{fmt\_currency}\NormalTok{(}
    \AttributeTok{columns =} \FunctionTok{c}\NormalTok{(total\_sales, avg\_price),}
    \AttributeTok{currency =} \StringTok{"USD"}
\NormalTok{  ) }\SpecialCharTok{\%\textgreater{}\%}
  \FunctionTok{fmt\_number}\NormalTok{(}
    \AttributeTok{columns =}\NormalTok{ num\_orders,}
    \AttributeTok{decimals =} \DecValTok{0}
\NormalTok{  ) }\SpecialCharTok{\%\textgreater{}\%}
  \FunctionTok{grand\_summary\_rows}\NormalTok{(}
    \AttributeTok{columns =}\NormalTok{ total\_sales,}
    \AttributeTok{fns =} \FunctionTok{list}\NormalTok{(}
      \StringTok{"Total"} \OtherTok{=} \ErrorTok{\textasciitilde{}}\FunctionTok{sum}\NormalTok{(.)}
\NormalTok{    ),}
    \AttributeTok{fmt =} \SpecialCharTok{\textasciitilde{}} \FunctionTok{fmt\_currency}\NormalTok{(., }\AttributeTok{currency =} \StringTok{"USD"}\NormalTok{)  }
\NormalTok{  ) }\SpecialCharTok{\%\textgreater{}\%}
  \FunctionTok{grand\_summary\_rows}\NormalTok{(}
    \AttributeTok{columns =}\NormalTok{ num\_orders,}
    \AttributeTok{fns =} \FunctionTok{list}\NormalTok{(}
      \StringTok{"Total"} \OtherTok{=} \ErrorTok{\textasciitilde{}}\FunctionTok{sum}\NormalTok{(.)}
\NormalTok{    ),}
    \AttributeTok{fmt =} \SpecialCharTok{\textasciitilde{}} \FunctionTok{fmt\_number}\NormalTok{(., }\AttributeTok{decimals =} \DecValTok{0}\NormalTok{)  }
\NormalTok{  )}
\end{Highlighting}
\end{Shaded}

\begin{table}[!t]
\fontsize{12.0pt}{14.4pt}\selectfont
\begin{tabular*}{\linewidth}{@{\extracolsep{\fill}}l|rrr}
\toprule
 & total\_sales & num\_orders & avg\_price \\ 
\midrule\addlinespace[2.5pt]
\multicolumn{4}{l}{chicken} \\[2.5pt] 
\midrule\addlinespace[2.5pt]
 & \$195,919.50 & 11,050 & \$17.73 \\ 
\midrule\addlinespace[2.5pt]
\multicolumn{4}{l}{classic} \\[2.5pt] 
\midrule\addlinespace[2.5pt]
 & \$220,053.10 & 14,888 & \$14.78 \\ 
\midrule\addlinespace[2.5pt]
\multicolumn{4}{l}{supreme} \\[2.5pt] 
\midrule\addlinespace[2.5pt]
 & \$208,197.00 & 11,987 & \$17.37 \\ 
\midrule\addlinespace[2.5pt]
\multicolumn{4}{l}{veggie} \\[2.5pt] 
\midrule\addlinespace[2.5pt]
 & \$193,690.45 & 11,649 & \$16.63 \\ 
\midrule 
\midrule 
Total & \$817,860.05 & 49,574 & â€” \\ 
\bottomrule
\end{tabular*}
\end{table}

\end{document}
